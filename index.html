<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>â˜… ë‚˜ì™€ K-Pop ìŠ¤íƒ€ ê¶í•© ë­í‚¹ â˜…</title>
    <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable.min.css" rel="stylesheet">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3940256099942544" crossorigin="anonymous"></script>
    <style>
        :root {--pink:#ff6ac2;--purple:#9b59b6;--grad:linear-gradient(135deg,#ff6ac2,#9b59b6);}
        body{margin:0;background:var(--grad) fixed;color:#fff;font-family:'Gamja Flower',cursive;text-align:center;min-height:100vh;display:flex;flex-direction:column;}
        header{padding:20px;background:rgba(0,0,0,0.3);backdrop-filter:blur(10px);}
        h1{font-family:'Black Han Sans';font-size:2.8rem;margin:10px;text-shadow:0 0 20px #fff;}
        .container{flex:1;max-width:500px;margin:20px auto;background:rgba(255,255,255,0.15);border-radius:30px;padding:30px;box-shadow:0 20px 40px rgba(0,0,0,0.3);backdrop-filter:blur(15px);}
        input,select,button{width:100%;padding:15px;margin:12px 0;border:none;border-radius:15px;font-size:1.2rem;font-family:'Gamja Flower';}
        select{background:#fff;color:#333;}
        button{background:var(--pink);color:#fff;font-weight:bold;cursor:pointer;box-shadow:0 8px 15px rgba(255,106,194,0.4);transition:0.3s;}
        button:hover{transform:translateY(-3px);box-shadow:0 12px 20px rgba(255,106,194,0.6);}
        #result{margin-top:30px;padding:20px;background:rgba(255,255,255,0.2);border-radius:20px;font-size:1.3rem;line-height:1.8;}
        .rank{font-size:3rem;color:#fff36e;}
        .share{margin-top:20px;display:flex;gap:15px;justify-content:center;}
        .share a{background:#1da1f2;color:#fff;padding:12px 20px;border-radius:50px;text-decoration:none;font-weight:bold;}
        footer{padding:15px;font-size:0.9rem;opacity:0.8;}
        .ads{margin:20px auto;max-width:320px;}
        .form-row{display:flex;gap:10px;}
        .form-row input{flex:1;}
    </style>
</head>
<body>
    <header>
        <h1>âœ¨ K-Pop ê¶í•© ì„¸ê³„ 1ë“± ë„ì „ âœ¨</h1>
        <p>ì‚¬ì£¼ í’€ ì…ë ¥ â†’ ë­í‚¹ ë“±ë¡ â†’ ì „ì„¸ê³„ ìë‘</p>
    </header>

    <div class="container">
        <!-- ì‚¬ì£¼ ì…ë ¥ -->
        <input type="text" id="userName" placeholder="ì´ë¦„ (ì˜ˆ: ì§€ë¯¼ íŒ¬)" required>
        <div class="form-row">
            <input type="date" id="userBirth" required>
            <input type="time" id="userTime" placeholder="ì‹œê°„ (ëª¨ë¥´ë©´ 12:00)">
        </div>
        <select id="gender" required>
            <option value="">ì„±ë³„</option>
            <option value="ë‚¨">ë‚¨ì„±</option>
            <option value="ì—¬">ì—¬ì„±</option>
            <option value="ê¸°íƒ€">ê¸°íƒ€</option>
        </select>

        <!-- ì•„í‹°ìŠ¤íŠ¸ ì„ íƒ -->
        <select id="artist" required>
            <option value="">ğŸ’– ìŠ¤íƒ€ë¥¼ ê³¨ë¼ì£¼ì„¸ìš”</option>
            <option value="RM">BTS RM â”€ ì±…ë•í›„ ë¦¬ë”</option>
            <option value="Jennie">BLACKPINK ì œë‹ˆ â”€ íŒ¨ì…˜ í€¸</option>
            <option value="BangChan">Stray Kids ë°©ì°¬ â”€ ë°¤ìƒ˜ í”„ë¡œë“€ì„œ</option>
            <option value="S.Coups">SEVENTEEN ìŠ¹ì²  â”€ 13ëª… ì•„ë¹ </option>
            <option value="Karina">aespa ì¹´ë¦¬ë‚˜ â”€ AI ê³µì£¼</option>
            <option value="Jungwon">ENHYPEN ì •ì› â”€ ë§‰ë‚´ ì˜¨ íƒ‘</option>
            <option value="Minji">NewJeans ë¯¼ì§€ â”€ Y2K ì•„ì´ì½˜</option>
            <option value="Yujin">IVE ìœ ì§„ â”€ ì¹´ë¦¬ìŠ¤ë§ˆ ë³´ì»¬</option>
            <option value="Hongjoong">ATEEZ í™ì¤‘ â”€ í•´ì ì™• ìº¡í‹´</option>
            <option value="Yeonjun">TXT ì—°ì¤€ â”€ 4ì„¸ëŒ€ ì¶¤ì‹ </option>
        </select>

        <!-- ë­í‚¹ ë³„ëª… -->
        <input type="text" id="nickname" placeholder="ë­í‚¹ì— ë‚¨ê¸¸ ë³„ëª… (ì˜ˆ: ì§€ë¯¼ì˜ê½ƒê¸¸)" required>

        <button onclick="calculate()">ğŸš€ ê¶í•© ì ìˆ˜ ë½‘ê¸°</button>

        <div id="result"></div>

        <!-- ì• ë“œì„¼ìŠ¤ -->
        <div class="ads">
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-3940256099942544"
                 data-ad-slot="1234567890"
                 data-ad-format="auto"></ins>
            <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
        </div>
    </div>

    <footer>Â© 2025 Dannyì˜ ê¿€ë²Œë¹„ë‘˜ê¸° | ì¬ë¯¸ìš© ì‚¬ì£¼ ì„œë¹„ìŠ¤</footer>

    <script>
        const artistData = {
            RM: {birth:'1994-09-12', element:'ëª©', hobby:'ì±… ì½ê¸°Â·ì² í•™ í† ë¡ ', emoji:'ğŸ“š'},
            Jennie: {birth:'1996-01-16', element:'í™”', hobby:'íŒ¨ì…˜Â·ëŸ­ì…”ë¦¬ ì‡¼í•‘', emoji:'ğŸ‘‘'},
            BangChan: {birth:'1997-10-03', element:'ê¸ˆ', hobby:'ë°¤ìƒ˜ ì‘ê³¡', emoji:'ğŸ§'},
            'S.Coups': {birth:'1995-08-08', element:'í† ', hobby:'13ëª… ì±™ê¸°ê¸°', emoji:'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦'},
            Karina: {birth:'2000-04-11', element:'ìˆ˜', hobby:'AI ëŒ„ìŠ¤', emoji:'ğŸ¤–'},
            Jungwon: {birth:'2004-02-09', element:'í™”', hobby:'ë¦¬ë”ì‹­ í›ˆë ¨', emoji:'ğŸº'},
            Minji: {birth:'2004-05-07', element:'ëª©', hobby:'Y2K íŒ¨ì…˜', emoji:'ğŸ“Ÿ'},
            Yujin: {birth:'2003-08-01', element:'ê¸ˆ', hobby:'ë¬´ëŒ€ ì¥ì•…', emoji:'ğŸ¤'},
            Hongjoong: {birth:'1998-11-07', element:'í† ', hobby:'í•´ì  ìŠ¤í† ë¦¬í…”ë§', emoji:'ğŸ´â€â˜ ï¸'},
            Yeonjun: {birth:'1999-09-13', element:'ìˆ˜', hobby:'í¼í¬ë¨¼ìŠ¤ í˜ì‹ ', emoji:'ğŸ’ƒ'}
        };

        // ì˜¤í–‰ ìƒìƒ/ìƒê·¹ ì ìˆ˜ (0~100)
        const elementScores = {
            'ëª©': {ëª©:50, í™”:80, í† :30, ê¸ˆ:20, ìˆ˜:70},
            'í™”': {ëª©:70, í™”:50, í† :80, ê¸ˆ:30, ìˆ˜:20},
            'í† ': {ëª©:20, í™”:70, í† :50, ê¸ˆ:80, ìˆ˜:30},
            'ê¸ˆ': {ëª©:30, í™”:20, í† :70, ê¸ˆ:50, ìˆ˜:80},
            'ìˆ˜': {ëª©:80, í™”:30, í† :20, ê¸ˆ:70, ìˆ˜:50}
        };

        function getUserElement(birth) {
            const year = new Date(birth).getFullYear();
            const elements = ['ëª©','í™”','í† ','ê¸ˆ','ìˆ˜'];
            return elements[year % 5];
        }

        function saveRanking(name, nick, score, artist) {
            const rankings = JSON.parse(localStorage.getItem('kpopRankings') || '[]');
            rankings.push({name, nick, score, artist, date: new Date().toISOString()});
            rankings.sort((a,b)=>b.score-a.score);
            localStorage.setItem('kpopRankings', JSON.stringify(rankings.slice(0,1000)));
            return rankings;
        }

        function getMyRank(score) {
            const rankings = JSON.parse(localStorage.getItem('kpopRankings') || '[]');
            return rankings.filter(r=>r.score>score).length + 1;
        }

        function calculate() {
            const name = document.getElementById('userName').value.trim();
            const birth = document.getElementById('userBirth').value;
            const time = document.getElementById('userTime').value || '12:00';
            const gender = document.getElementById('gender').value;
            const artist = document.getElementById('artist').value;
            const nick = document.getElementById('nickname').value.trim();

            if (!name || !birth || !gender || !artist || !nick) {
                alert('ëª¨ë“  í•­ëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }

            // ì ìˆ˜ ê³„ì‚°: ì˜¤í–‰ + ì…ë ¥ê°’ ê¸°ë°˜
            const userElement = getUserElement(birth);
            const artistElement = artistData[artist].element;
            let score = elementScores[userElement][artistElement];

            // ì´ë¦„/ì‹œê°„ ê°€ì¤‘ì¹˜ (ê°„ë‹¨ ì‹œë®¬)
            const seed = `${name}${time}${gender}`.split('').reduce((a,c)=>a+c.charCodeAt(0),0);
            score = Math.floor(score * 0.7 + (seed % 30)); // 0~100
            score = Math.min(100, Math.max(0, score));

            // ë­í‚¹ ì €ì¥
            saveRanking(name, nick, score, artist);
            const rank = getMyRank(score);

            // ê²°ê³¼ ë¬¸êµ¬
            const data = artistData[artist];
            let message = '';
            if (score >= 90) message = 'ì²œìƒì—°ë¶„! ì½˜ì„œíŠ¸ ê°€ì„œ ìš´ëª… ì‹œì‘ğŸ”¥';
            else if (score >= 80) message = 'ìµœê³  ì¼€ë¯¸! ê°™ì´ ë¬´ëŒ€ ì°¢ì„ ì¸ì—°ğŸ’¥';
            else if (score >= 70) message = 'ì¢‹ì€ ì¸ì—°! íŒ¬ë¯¸íŒ… ê°€ë„ ì˜ ë§ì„ê±¸?';
            else if (score >= 60) message = 'ì¹œêµ¬ë¡œ ë”±! ê°™ì´ ê²Œì„í•˜ë©´ ì¬ë°Œì–´ğŸ®';
            else message = 'ì¡°ê¸ˆ ë…¸ë ¥í•˜ë©´ ì¢‹ì€ ì¹œêµ¬ ê°€ëŠ¥! ì‘ì›í•´ğŸ’ª';

            document.getElementById('result').innerHTML = `
                <h2>${data.emoji} ${artist}ì™€(ê³¼) ê¶í•©</h2>
                <div class="rank">${score}/100ì </div>
                <p><b>${nick}</b> ë‹˜ì€ ì „ ì„¸ê³„ <b>${rank.toLocaleString()}ë“±</b>!</p>
                <p>âœ¨ ${artist} ìƒì¼: ${data.birth} | ì·¨ë¯¸: ${data.hobby}</p>
                <p>ì‚¬ì£¼ íŒíŠ¸: ë‹¹ì‹ ì˜ <b>${userElement}</b> ê¸°ìš´ê³¼ ${artist}ì˜ <b>${artistElement}</b> ê¸°ìš´ â†’ ${message}</p>
                <div class="share">
                    <a href="https://x.com/intent/tweet?text=${encodeURIComponent(
                        `${nick}ì˜ ${artist} ê¶í•© ${score}/100ì ! ì„¸ê³„ ${rank}ë“± ê¸°ë¡ğŸ”¥\nhttps://danny89824.github.io/honeybee_pigeon.github.io/`
                    )}" target="_blank">ğŸ¦ Xì— ìë‘í•˜ê¸°</a>
                </div>
            `;
        }
    </script>
</body>
</html>
